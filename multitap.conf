# Multi-tap keyboard mapping for accessibility
#
# Bottom row keys (Z/X/C/V/B/N/M/,/./) support multi-tap sequences:
# - Single tap: outputs the key itself
# - Double/triple/quad taps: backspace + mapped character from column above

# Multi-tap sequences (longest match first)
# Pattern: single key >> itself, double+ taps >> backspace then mapped char
# ? prefix prevents waiting for additional keys
# ^ at start defers entire sequence until key release (no partial backspace)

# Z multi-tap (up to 12 taps)
? repeat[Z, 12] >> ^Backspace Q
? repeat[Z, 11] >> ^Backspace A
? repeat[Z, 10] >> ^Backspace Z
? repeat[Z, 9] >> ^Backspace Q
? repeat[Z, 8] >> ^Backspace A
? repeat[Z, 7] >> ^Backspace Z
? repeat[Z, 6] >> ^Backspace Q
? repeat[Z, 5] >> ^Backspace A
? repeat[Z, 4] >> ^Backspace Z
? repeat[Z, 3] >> ^Backspace Q
? repeat[Z, 2] >> ^Backspace A

# X multi-tap (up to 12 taps)
? repeat[X, 12] >> ^Backspace W
? repeat[X, 11] >> ^Backspace S
? repeat[X, 10] >> ^Backspace X
? repeat[X, 9] >> ^Backspace W
? repeat[X, 8] >> ^Backspace S
? repeat[X, 7] >> ^Backspace X
? repeat[X, 6] >> ^Backspace W
? repeat[X, 5] >> ^Backspace S
? repeat[X, 4] >> ^Backspace X
? repeat[X, 3] >> ^Backspace W
? repeat[X, 2] >> ^Backspace S

# C multi-tap (up to 12 taps)
? repeat[C, 12] >> ^Backspace E
? repeat[C, 11] >> ^Backspace D
? repeat[C, 10] >> ^Backspace C
? repeat[C, 9] >> ^Backspace E
? repeat[C, 8] >> ^Backspace D
? repeat[C, 7] >> ^Backspace C
? repeat[C, 6] >> ^Backspace E
? repeat[C, 5] >> ^Backspace D
? repeat[C, 4] >> ^Backspace C
? repeat[C, 3] >> ^Backspace E
? repeat[C, 2] >> ^Backspace D

# V multi-tap (up to 12 taps)
? repeat[V, 12] >> ^Backspace R
? repeat[V, 11] >> ^Backspace F
? repeat[V, 10] >> ^Backspace V
? repeat[V, 9] >> ^Backspace R
? repeat[V, 8] >> ^Backspace F
? repeat[V, 7] >> ^Backspace V
? repeat[V, 6] >> ^Backspace R
? repeat[V, 5] >> ^Backspace F
? repeat[V, 4] >> ^Backspace V
? repeat[V, 3] >> ^Backspace R
? repeat[V, 2] >> ^Backspace F

# B multi-tap (up to 12 taps)
? repeat[B, 12] >> ^Backspace T
? repeat[B, 11] >> ^Backspace G
? repeat[B, 10] >> ^Backspace B
? repeat[B, 9] >> ^Backspace T
? repeat[B, 8] >> ^Backspace G
? repeat[B, 7] >> ^Backspace B
? repeat[B, 6] >> ^Backspace T
? repeat[B, 5] >> ^Backspace G
? repeat[B, 4] >> ^Backspace B
? repeat[B, 3] >> ^Backspace T
? repeat[B, 2] >> ^Backspace G

# N multi-tap (up to 12 taps)
? repeat[N, 12] >> ^Backspace Y
? repeat[N, 11] >> ^Backspace H
? repeat[N, 10] >> ^Backspace N
? repeat[N, 9] >> ^Backspace Y
? repeat[N, 8] >> ^Backspace H
? repeat[N, 7] >> ^Backspace N
? repeat[N, 6] >> ^Backspace Y
? repeat[N, 5] >> ^Backspace H
? repeat[N, 4] >> ^Backspace N
? repeat[N, 3] >> ^Backspace Y
? repeat[N, 2] >> ^Backspace H

# M multi-tap (up to 12 taps)
? repeat[M, 12] >> ^Backspace U
? repeat[M, 11] >> ^Backspace J
? repeat[M, 10] >> ^Backspace M
? repeat[M, 9] >> ^Backspace U
? repeat[M, 8] >> ^Backspace J
? repeat[M, 7] >> ^Backspace M
? repeat[M, 6] >> ^Backspace U
? repeat[M, 5] >> ^Backspace J
? repeat[M, 4] >> ^Backspace M
? repeat[M, 3] >> ^Backspace U
? repeat[M, 2] >> ^Backspace J

# Comma multi-tap (up to 12 taps)
? repeat[Comma, 12] >> ^Backspace I
? repeat[Comma, 11] >> ^Backspace K
? repeat[Comma, 10] >> ^Backspace Comma
? repeat[Comma, 9] >> ^Backspace I
? repeat[Comma, 8] >> ^Backspace K
? repeat[Comma, 7] >> ^Backspace Comma
? repeat[Comma, 6] >> ^Backspace I
? repeat[Comma, 5] >> ^Backspace K
? repeat[Comma, 4] >> ^Backspace Comma
? repeat[Comma, 3] >> ^Backspace I
? repeat[Comma, 2] >> ^Backspace K

# Period multi-tap (up to 12 taps)
? repeat[Period, 12] >> ^Backspace O
? repeat[Period, 11] >> ^Backspace L
? repeat[Period, 10] >> ^Backspace Period
? repeat[Period, 9] >> ^Backspace O
? repeat[Period, 8] >> ^Backspace L
? repeat[Period, 7] >> ^Backspace Period
? repeat[Period, 6] >> ^Backspace O
? repeat[Period, 5] >> ^Backspace L
? repeat[Period, 4] >> ^Backspace Period
? repeat[Period, 3] >> ^Backspace O
? repeat[Period, 2] >> ^Backspace L

# Slash multi-tap (up to 12 taps)
? repeat[Slash, 12] >> ^Backspace P
? repeat[Slash, 11] >> ^Backspace Semicolon
? repeat[Slash, 10] >> ^Backspace Slash
? repeat[Slash, 9] >> ^Backspace P
? repeat[Slash, 8] >> ^Backspace Semicolon
? repeat[Slash, 7] >> ^Backspace Slash
? repeat[Slash, 6] >> ^Backspace P
? repeat[Slash, 5] >> ^Backspace Semicolon
? repeat[Slash, 4] >> ^Backspace Slash
? repeat[Slash, 3] >> ^Backspace P
? repeat[Slash, 2] >> ^Backspace Semicolon

# Home row keys (A/S/D/F/G/H/J/K/L/;) support multi-tap sequences with top row

# A multi-tap (up to 12 taps)
? repeat[A, 12] >> ^Backspace Q
? repeat[A, 11] >> ^Backspace A
? repeat[A, 10] >> ^Backspace Q
? repeat[A, 9] >> ^Backspace A
? repeat[A, 8] >> ^Backspace Q
? repeat[A, 7] >> ^Backspace A
? repeat[A, 6] >> ^Backspace Q
? repeat[A, 5] >> ^Backspace A
? repeat[A, 4] >> ^Backspace Q
? repeat[A, 3] >> ^Backspace A
? repeat[A, 2] >> ^Backspace Q

# S multi-tap (up to 12 taps)
? repeat[S, 12] >> ^Backspace W
? repeat[S, 11] >> ^Backspace S
? repeat[S, 10] >> ^Backspace W
? repeat[S, 9] >> ^Backspace S
? repeat[S, 8] >> ^Backspace W
? repeat[S, 7] >> ^Backspace S
? repeat[S, 6] >> ^Backspace W
? repeat[S, 5] >> ^Backspace S
? repeat[S, 4] >> ^Backspace W
? repeat[S, 3] >> ^Backspace S
? repeat[S, 2] >> ^Backspace W

# D multi-tap (up to 12 taps)
? repeat[D, 12] >> ^Backspace E
? repeat[D, 11] >> ^Backspace D
? repeat[D, 10] >> ^Backspace E
? repeat[D, 9] >> ^Backspace D
? repeat[D, 8] >> ^Backspace E
? repeat[D, 7] >> ^Backspace D
? repeat[D, 6] >> ^Backspace E
? repeat[D, 5] >> ^Backspace D
? repeat[D, 4] >> ^Backspace E
? repeat[D, 3] >> ^Backspace D
? repeat[D, 2] >> ^Backspace E

# F multi-tap (up to 12 taps)
? repeat[F, 12] >> ^Backspace R
? repeat[F, 11] >> ^Backspace F
? repeat[F, 10] >> ^Backspace R
? repeat[F, 9] >> ^Backspace F
? repeat[F, 8] >> ^Backspace R
? repeat[F, 7] >> ^Backspace F
? repeat[F, 6] >> ^Backspace R
? repeat[F, 5] >> ^Backspace F
? repeat[F, 4] >> ^Backspace R
? repeat[F, 3] >> ^Backspace F
? repeat[F, 2] >> ^Backspace R

# G multi-tap (up to 12 taps)
? repeat[G, 12] >> ^Backspace T
? repeat[G, 11] >> ^Backspace G
? repeat[G, 10] >> ^Backspace T
? repeat[G, 9] >> ^Backspace G
? repeat[G, 8] >> ^Backspace T
? repeat[G, 7] >> ^Backspace G
? repeat[G, 6] >> ^Backspace T
? repeat[G, 5] >> ^Backspace G
? repeat[G, 4] >> ^Backspace T
? repeat[G, 3] >> ^Backspace G
? repeat[G, 2] >> ^Backspace T

# H multi-tap (up to 12 taps)
? repeat[H, 12] >> ^Backspace Y
? repeat[H, 11] >> ^Backspace H
? repeat[H, 10] >> ^Backspace Y
? repeat[H, 9] >> ^Backspace H
? repeat[H, 8] >> ^Backspace Y
? repeat[H, 7] >> ^Backspace H
? repeat[H, 6] >> ^Backspace Y
? repeat[H, 5] >> ^Backspace H
? repeat[H, 4] >> ^Backspace Y
? repeat[H, 3] >> ^Backspace H
? repeat[H, 2] >> ^Backspace Y

# J multi-tap (up to 12 taps)
? repeat[J, 12] >> ^Backspace U
? repeat[J, 11] >> ^Backspace J
? repeat[J, 10] >> ^Backspace U
? repeat[J, 9] >> ^Backspace J
? repeat[J, 8] >> ^Backspace U
? repeat[J, 7] >> ^Backspace J
? repeat[J, 6] >> ^Backspace U
? repeat[J, 5] >> ^Backspace J
? repeat[J, 4] >> ^Backspace U
? repeat[J, 3] >> ^Backspace J
? repeat[J, 2] >> ^Backspace U

# K multi-tap (up to 12 taps)
? repeat[K, 12] >> ^Backspace I
? repeat[K, 11] >> ^Backspace K
? repeat[K, 10] >> ^Backspace I
? repeat[K, 9] >> ^Backspace K
? repeat[K, 8] >> ^Backspace I
? repeat[K, 7] >> ^Backspace K
? repeat[K, 6] >> ^Backspace I
? repeat[K, 5] >> ^Backspace K
? repeat[K, 4] >> ^Backspace I
? repeat[K, 3] >> ^Backspace K
? repeat[K, 2] >> ^Backspace I

# L multi-tap (up to 12 taps)
? repeat[L, 12] >> ^Backspace O
? repeat[L, 11] >> ^Backspace L
? repeat[L, 10] >> ^Backspace O
? repeat[L, 9] >> ^Backspace L
? repeat[L, 8] >> ^Backspace O
? repeat[L, 7] >> ^Backspace L
? repeat[L, 6] >> ^Backspace O
? repeat[L, 5] >> ^Backspace L
? repeat[L, 4] >> ^Backspace O
? repeat[L, 3] >> ^Backspace L
? repeat[L, 2] >> ^Backspace O

# Semicolon multi-tap (up to 12 taps)
? repeat[Semicolon, 12] >> ^Backspace P
? repeat[Semicolon, 11] >> ^Backspace Semicolon
? repeat[Semicolon, 10] >> ^Backspace P
? repeat[Semicolon, 9] >> ^Backspace Semicolon
? repeat[Semicolon, 8] >> ^Backspace P
? repeat[Semicolon, 7] >> ^Backspace Semicolon
? repeat[Semicolon, 6] >> ^Backspace P
? repeat[Semicolon, 5] >> ^Backspace Semicolon
? repeat[Semicolon, 4] >> ^Backspace P
? repeat[Semicolon, 3] >> ^Backspace Semicolon
? repeat[Semicolon, 2] >> ^Backspace P

# Backslash multi-tap (up to 12 taps)
? repeat[Backslash, 12] >> ^Backspace BracketRight
? repeat[Backslash, 11] >> ^Backspace Backslash
? repeat[Backslash, 10] >> ^Backspace BracketRight
? repeat[Backslash, 9] >> ^Backspace Backslash
? repeat[Backslash, 8] >> ^Backspace BracketRight
? repeat[Backslash, 7] >> ^Backspace Backslash
? repeat[Backslash, 6] >> ^Backspace BracketRight
? repeat[Backslash, 5] >> ^Backspace Backslash
? repeat[Backslash, 4] >> ^Backspace BracketRight
? repeat[Backslash, 3] >> ^Backspace Backslash
? repeat[Backslash, 2] >> ^Backspace BracketRight

# Quote multi-tap (up to 12 taps)
? repeat[Quote, 12] >> ^Backspace BracketLeft
? repeat[Quote, 11] >> ^Backspace Quote
? repeat[Quote, 10] >> ^Backspace BracketLeft
? repeat[Quote, 9] >> ^Backspace Quote
? repeat[Quote, 8] >> ^Backspace BracketLeft
? repeat[Quote, 7] >> ^Backspace Quote
? repeat[Quote, 6] >> ^Backspace BracketLeft
? repeat[Quote, 5] >> ^Backspace Quote
? repeat[Quote, 4] >> ^Backspace BracketLeft
? repeat[Quote, 3] >> ^Backspace Quote
? repeat[Quote, 2] >> ^Backspace BracketLeft

# Numpad multi-tap sequences

# Numpad1 multi-tap (up to 12 taps)
? repeat[Numpad1, 12] >> ^Backspace 1
? repeat[Numpad1, 11] >> ^Backspace 4
? repeat[Numpad1, 10] >> ^Backspace 7
? repeat[Numpad1, 9] >> ^Backspace 1
? repeat[Numpad1, 8] >> ^Backspace 4
? repeat[Numpad1, 7] >> ^Backspace 7
? repeat[Numpad1, 6] >> ^Backspace 1
? repeat[Numpad1, 5] >> ^Backspace 4
? repeat[Numpad1, 4] >> ^Backspace 7
? repeat[Numpad1, 3] >> ^Backspace 1
? repeat[Numpad1, 2] >> ^Backspace 4

# Numpad2 multi-tap (up to 12 taps)
? repeat[Numpad2, 12] >> ^Backspace 2
? repeat[Numpad2, 11] >> ^Backspace 5
? repeat[Numpad2, 10] >> ^Backspace 8
? repeat[Numpad2, 9] >> ^Backspace 2
? repeat[Numpad2, 8] >> ^Backspace 5
? repeat[Numpad2, 7] >> ^Backspace 8
? repeat[Numpad2, 6] >> ^Backspace 2
? repeat[Numpad2, 5] >> ^Backspace 5
? repeat[Numpad2, 4] >> ^Backspace 8
? repeat[Numpad2, 3] >> ^Backspace 2
? repeat[Numpad2, 2] >> ^Backspace 5

# Numpad3 multi-tap (up to 12 taps)
? repeat[Numpad3, 12] >> ^Backspace 3
? repeat[Numpad3, 11] >> ^Backspace 6
? repeat[Numpad3, 10] >> ^Backspace 9
? repeat[Numpad3, 9] >> ^Backspace 3
? repeat[Numpad3, 8] >> ^Backspace 6
? repeat[Numpad3, 7] >> ^Backspace 9
? repeat[Numpad3, 6] >> ^Backspace 3
? repeat[Numpad3, 5] >> ^Backspace 6
? repeat[Numpad3, 4] >> ^Backspace 9
? repeat[Numpad3, 3] >> ^Backspace 3
? repeat[Numpad3, 2] >> ^Backspace 6
