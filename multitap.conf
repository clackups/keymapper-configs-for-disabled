# Multi-tap keyboard mapping for accessibility
#
# Bottom row keys (Z/X/C/V/B/N/M/,/./) support multi-tap sequences:
# - Single tap: outputs the key itself
# - Double/triple/quad taps: backspace + mapped character from column above

# Multi-tap sequences (longest match first)
# Pattern: single key >> itself, double+ taps >> backspace then mapped char
# ? prefix prevents waiting for additional keys
# ^ at start defers entire sequence until key release (no partial backspace)

# Z multi-tap with repeating loops (up to 12 taps)
? repeat[Z, 12] >> ^Backspace 1
? repeat[Z, 11] >> ^Backspace Q
? repeat[Z, 10] >> ^Backspace A
? repeat[Z, 9] >> ^Backspace Z
? repeat[Z, 8] >> ^Backspace 1
? repeat[Z, 7] >> ^Backspace Q
? repeat[Z, 6] >> ^Backspace A
? repeat[Z, 5] >> ^Backspace Z
? repeat[Z, 4] >> ^Backspace 1
? repeat[Z, 3] >> ^Backspace Q
? repeat[Z, 2] >> ^Backspace A
Z >> Z

# X multi-tap with repeating loops (up to 12 taps)
? repeat[X, 12] >> ^Backspace 2
? repeat[X, 11] >> ^Backspace W
? repeat[X, 10] >> ^Backspace S
? repeat[X, 9] >> ^Backspace X
? repeat[X, 8] >> ^Backspace 2
? repeat[X, 7] >> ^Backspace W
? repeat[X, 6] >> ^Backspace S
? repeat[X, 5] >> ^Backspace X
? repeat[X, 4] >> ^Backspace 2
? repeat[X, 3] >> ^Backspace W
? repeat[X, 2] >> ^Backspace S
X >> X

# C multi-tap with repeating loops (up to 12 taps)
? repeat[C, 12] >> ^Backspace 3
? repeat[C, 11] >> ^Backspace E
? repeat[C, 10] >> ^Backspace D
? repeat[C, 9] >> ^Backspace C
? repeat[C, 8] >> ^Backspace 3
? repeat[C, 7] >> ^Backspace E
? repeat[C, 6] >> ^Backspace D
? repeat[C, 5] >> ^Backspace C
? repeat[C, 4] >> ^Backspace 3
? repeat[C, 3] >> ^Backspace E
? repeat[C, 2] >> ^Backspace D
C >> C

# V multi-tap with repeating loops (up to 12 taps)
? repeat[V, 12] >> ^Backspace 4
? repeat[V, 11] >> ^Backspace R
? repeat[V, 10] >> ^Backspace F
? repeat[V, 9] >> ^Backspace V
? repeat[V, 8] >> ^Backspace 4
? repeat[V, 7] >> ^Backspace R
? repeat[V, 6] >> ^Backspace F
? repeat[V, 5] >> ^Backspace V
? repeat[V, 4] >> ^Backspace 4
? repeat[V, 3] >> ^Backspace R
? repeat[V, 2] >> ^Backspace F
V >> V

# B multi-tap with repeating loops (up to 12 taps)
? repeat[B, 12] >> ^Backspace 5
? repeat[B, 11] >> ^Backspace T
? repeat[B, 10] >> ^Backspace G
? repeat[B, 9] >> ^Backspace B
? repeat[B, 8] >> ^Backspace 5
? repeat[B, 7] >> ^Backspace T
? repeat[B, 6] >> ^Backspace G
? repeat[B, 5] >> ^Backspace B
? repeat[B, 4] >> ^Backspace 5
? repeat[B, 3] >> ^Backspace T
? repeat[B, 2] >> ^Backspace G
B >> B

# N multi-tap with repeating loops (up to 12 taps)
? repeat[N, 12] >> ^Backspace 6
? repeat[N, 11] >> ^Backspace Y
? repeat[N, 10] >> ^Backspace H
? repeat[N, 9] >> ^Backspace N
? repeat[N, 8] >> ^Backspace 6
? repeat[N, 7] >> ^Backspace Y
? repeat[N, 6] >> ^Backspace H
? repeat[N, 5] >> ^Backspace N
? repeat[N, 4] >> ^Backspace 6
? repeat[N, 3] >> ^Backspace Y
? repeat[N, 2] >> ^Backspace H
N >> N

# M multi-tap with repeating loops (up to 12 taps)
? repeat[M, 12] >> ^Backspace 7
? repeat[M, 11] >> ^Backspace U
? repeat[M, 10] >> ^Backspace J
? repeat[M, 9] >> ^Backspace M
? repeat[M, 8] >> ^Backspace 7
? repeat[M, 7] >> ^Backspace U
? repeat[M, 6] >> ^Backspace J
? repeat[M, 5] >> ^Backspace M
? repeat[M, 4] >> ^Backspace 7
? repeat[M, 3] >> ^Backspace U
? repeat[M, 2] >> ^Backspace J
M >> M

# Comma multi-tap with repeating loops (up to 12 taps)
? repeat[Comma, 12] >> ^Backspace 8
? repeat[Comma, 11] >> ^Backspace I
? repeat[Comma, 10] >> ^Backspace K
? repeat[Comma, 9] >> ^Backspace Comma
? repeat[Comma, 8] >> ^Backspace 8
? repeat[Comma, 7] >> ^Backspace I
? repeat[Comma, 6] >> ^Backspace K
? repeat[Comma, 5] >> ^Backspace Comma
? repeat[Comma, 4] >> ^Backspace 8
? repeat[Comma, 3] >> ^Backspace I
? repeat[Comma, 2] >> ^Backspace K
Comma >> Comma

# Period multi-tap with repeating loops (up to 12 taps)
? repeat[Period, 12] >> ^Backspace 9
? repeat[Period, 11] >> ^Backspace O
? repeat[Period, 10] >> ^Backspace L
? repeat[Period, 9] >> ^Backspace Period
? repeat[Period, 8] >> ^Backspace 9
? repeat[Period, 7] >> ^Backspace O
? repeat[Period, 6] >> ^Backspace L
? repeat[Period, 5] >> ^Backspace Period
? repeat[Period, 4] >> ^Backspace 9
? repeat[Period, 3] >> ^Backspace O
? repeat[Period, 2] >> ^Backspace L
Period >> Period

# Slash multi-tap with repeating loops (up to 12 taps)
? repeat[Slash, 12] >> ^Backspace 0
? repeat[Slash, 11] >> ^Backspace P
? repeat[Slash, 10] >> ^Backspace Semicolon
? repeat[Slash, 9] >> ^Backspace Slash
? repeat[Slash, 8] >> ^Backspace 0
? repeat[Slash, 7] >> ^Backspace P
? repeat[Slash, 6] >> ^Backspace Semicolon
? repeat[Slash, 5] >> ^Backspace Slash
? repeat[Slash, 4] >> ^Backspace 0
? repeat[Slash, 3] >> ^Backspace P
? repeat[Slash, 2] >> ^Backspace Semicolon
Slash >> Slash
